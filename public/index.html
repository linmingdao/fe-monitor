<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>前端监控</title>
    <!-- <script>
      window.addEventListener(
        "error",
        function (event) {
          console.log(event);
        },
        true
      );
    </script> -->
  </head>
  <body style="background-color: rgb(125, 125, 125); color: #fff">
    <div id="container">
      <div class="content">
        <input
          id="jsErrorBtn"
          type="button"
          value="点击抛出js错误"
          onclick="jsErrorClick()"
        />
        <input
          id="promiseBtn"
          type="button"
          value="点击抛出promise错误"
          onclick="promiseErrorClick()"
        />
      </div>
    </div>
    <script>
      function jsErrorClick() {
        window.someVar.error = "error";
      }

      function promiseErrorClick() {
        new Promise((resolve, reject) => {
          window.someVar.error = "error";
          // reject("error");
        })
          // .catch((err) => console.log(err))
          .finally(() => console.log())
          .then((result) => console.log(result));
      }
    </script>
    <script type="application/javascript" src="someError.js"></script>
  </body>
</html>
